<div class="fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4">
  <div class="bg-white w-full max-w-sm rounded-lg shadow-2xl overflow-hidden font-mono text-sm border-t-8 border-orange-600">
    <div class="p-6">
      <div class="text-center mb-4">
        <h3 class="text-xl font-black uppercase text-slate-800">{{ ticket.storeName }}</h3>
        <p class="text-xs text-slate-500">{{ ticket.timestamp | date:'medium' }}</p>
        <p class="text-[10px] text-slate-400">ID: {{ ticket.saleId }}</p>
      </div>

      <div class="border-b border-dashed border-slate-300 my-4"></div>

      <table class="w-full mb-4">
        <thead>
          <tr class="text-left text-[10px] uppercase text-slate-400">
            <th class="pb-2">Cant/Prod</th>
            <th class="pb-2 text-right">Total</th>
          </tr>
        </thead>
        <tbody>
          @for (item of ticket.items; track $index) {
            <tr>
              <td class="py-1">
                <span class="font-bold">{{ item.qty }}x</span> {{ item.name }}
                <span class="block text-[10px] text-slate-400">${{ item.unitPrice }} c/u</span>
              </td>
              <td class="py-1 text-right align-top">${{ item.lineTotal }}</td>
            </tr>
          }
        </tbody>
      </table>

      <div class="border-b border-dashed border-slate-300 my-4"></div>

      <div class="space-y-1">
        <div class="flex justify-between">
          <span>Subtotal:</span>
          <span>${{ ticket.subtotal }}</span>
        </div>
        <div class="flex justify-between text-orange-600 font-bold">
          <span>Desc:</span>
          <span>{{ ticket.discount }}</span>
        </div>
        <div class="flex justify-between text-lg font-black border-t border-slate-800 pt-2 mt-2">
          <span>TOTAL:</span>
          <span>${{ ticket.total }}</span>
        </div>
      </div> @if (ticket.discount !== '0% (-$0)') {
        <div class="mt-6 p-3 bg-orange-50 rounded-lg border border-orange-100 text-center">
          <p class="text-[10px] font-black text-orange-800 uppercase">¡Beneficio de Socio Aplicado!</p>
          <p class="text-[9px] text-orange-600 italic leading-tight">
            Gracias por ser cliente frecuente. Tus compras acumuladas se han actualizado.
          </p>
        </div>
      }

      <div class="text-center mt-6">
        <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest mb-1">Método de Pago</p>
        <p class="text-xs font-bold text-slate-700 uppercase">{{ ticket.paymentMethod }}</p>
      </div>

      <p class="text-center text-[10px] mt-6 text-slate-400 italic">¡Gracias por su compra en {{ ticket.storeName }}!</p>
    </div>

    <button (click)="onClose.emit()" 
      class="w-full bg-slate-800 hover:bg-slate-900 text-white py-4 font-bold uppercase tracking-widest transition-colors">
      Nueva Venta
    </button>
  </div>
</div>